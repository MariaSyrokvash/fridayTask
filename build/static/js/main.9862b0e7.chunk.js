(this.webpackJsonpmy_friday_project=this.webpackJsonpmy_friday_project||[]).push([[0],{10:function(e,t,r){e.exports={loginWrapper:"Login_loginWrapper__3x5er",loginBox:"Login_loginBox__17mDl",loginInner:"Login_loginInner__281qS",loginCheckboxInner:"Login_loginCheckboxInner__3mFfO",loginLabel:"Login_loginLabel__2k98A",loginTitle:"Login_loginTitle__2dbVm",error:"Login_error__2OIb7",link:"Login_link__2OaPM",dark:"Login_dark__5mq0D",light:"Login_light__Ia-i3"}},20:function(e,t,r){e.exports={switcherBtn:"Theme_switcherBtn__ygAPK",dark:"Theme_dark__1wYNU",light:"Theme_light__15bll",emoji:"Theme_emoji__31DGd",btnBox:"Theme_btnBox__3GWWQ"}},27:function(e,t,r){e.exports={superInput:"SuperInputText_superInput__1pt1r",dark:"SuperInputText_dark__3SgRZ",light:"SuperInputText_light__1QI5s",errorInput:"SuperInputText_errorInput__36R50",error:"SuperInputText_error__VSKlq"}},28:function(e,t,r){e.exports={spanClassName:"SuperCheckbox_spanClassName__1LNW5",check:"SuperCheckbox_check__31jrR",checkbox:"SuperCheckbox_checkbox__22YVf",dark:"SuperCheckbox_dark__aD32l",light:"SuperCheckbox_light__1i1LY"}},29:function(e,t,r){e.exports={app:"App_app__3V4O1",container:"App_container__1DJFg",dark:"App_dark__2EM65",light:"App_light__1Ie9n"}},3:function(e,t,r){e.exports={navBox:"Header_navBox__1Zp3P",navList:"Header_navList___cY6W",navItem:"Header_navItem__krW8c",link:"Header_link__2gyFV",selected:"Header_selected__3FvRc",dark:"Header_dark__2LRtT",light:"Header_light__1_Jye"}},30:function(e,t,r){e.exports={default:"SuperButton_default__3JbaB",dark:"SuperButton_dark__3wEGX",light:"SuperButton_light__20g5N",classname:"SuperButton_classname__vnq3c",red:"SuperButton_red__3MBya"}},31:function(e,t,r){e.exports={box:"PasswordRecovery_box__1QI4d",recTitle:"PasswordRecovery_recTitle__1wHQK",recSubTitle:"PasswordRecovery_recSubTitle__22ZYx",recError:"PasswordRecovery_recError__2XOs5"}},54:function(e,t,r){e.exports={wrap:"Profile_wrap__3x57u",link:"Profile_link__3laUM"}},60:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){"use strict";r.r(t);var a,n=r(0),c=r.n(n),s=r(33),i=r.n(s),o=(r(60),r(29)),l=r.n(o),d=r(24),j=r(8),u=r(6),b=r(2),h=r(10),_=r.n(h),m=r(25),O=r(27),g=r.n(O),p=r(1),x=function(e){var t=e.type,r=e.onChange,a=e.onChangeText,n=e.onKeyPress,c=e.onEnter,s=e.error,i=(e.className,e.spanClassName),o=e.theme,l=Object(m.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","theme"]),d="".concat(g.a.error," ").concat(i||""),j="".concat(s?g.a.errorInput:g.a.superInput," ").concat("dark"===o?g.a.dark:g.a.light);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",Object(b.a)({type:t||"text",onChange:function(e){r&&r(e),a&&a(e.currentTarget.value)},onKeyPress:function(e){n&&n(e),"Enter"===e.key&&c&&c()},className:j},l)),s&&Object(p.jsx)("span",{className:d,children:"Please, type something.."})]})},S=r(30),f=r.n(S),v=function(e){var t=e.theme,r=e.red,a=e.className,n=Object(m.a)(e,["theme","red","className"]),c="".concat(r?f.a.red:f.a.default," ").concat("dark"==t?f.a.dark:f.a.light," ").concat(a);return Object(p.jsx)("button",Object(b.a)({className:c},n))},E=r(23),N=r(28),R=r.n(N),k=function(e){var t=e.theme,r=(e.type,e.onChange),a=e.onChangeChecked,n=e.className,c=(e.spanClassName,e.children),s=Object(m.a)(e,["theme","type","onChange","onChangeChecked","className","spanClassName","children"]),i="".concat(R.a.checkbox," ").concat(n||""," ").concat("dark"===t?R.a.dark:R.a.light);return Object(p.jsxs)("label",{className:R.a.label,children:[Object(p.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){r&&r(e),a&&a(e.currentTarget.checked)},className:i},s)),c&&Object(p.jsx)("span",{className:R.a.spanClassName,children:c})]})};!function(e){e.SET_STATUS="SET-STATUS",e.SET_ERROR="SET_ERROR",e.SET_INITIALIZED="SET_INITIALIZED"}(a||(a={}));var I,T={status:"idle",error:null,initialized:!1},P=function(e){return{type:a.SET_STATUS,status:e}},w=r(22),y=r.n(w),C=y.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),L=function(e){return C.post("auth/login",e)};!function(e){e.SET_IS_LOGGED_IN="SET_IS_LOGGED_IN",e.SET_USER_PROFILE="SET_USER_PROFILE",e.SIGN_IN_ERROR="SIGN_IN_ERROR"}(I||(I={}));var G,F,A={isLoggedIn:!1,profile:null,loginError:null},U=function(e){return function(t){t(P("loading")),L(e).then((function(e){var r,a;t((r=!0,{type:I.SET_IS_LOGGED_IN,value:r})),t((a=e.data,{type:I.SET_USER_PROFILE,profile:a})),console.log(e.data)})).catch((function(e){var r=e.response?e.response.data.error:e.message+", more details in the console";console.log(r),t(function(e){return{type:I.SIGN_IN_ERROR,error:e}}(r))})).finally((function(){t(P("succeeded"))}))}},B=r(5),D=function(e){var t=e.theme,r=e.loginError,a=(e.status,Object(n.useState)(!1)),c=Object(d.a)(a,2),s=c[0],i=c[1],o=Object(B.b)(),l=Object(E.a)({initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email||(t.email="Email is required"),e.password||(t.password="Password is required"),(l.errors.email||l.errors.password)&&(0===Object.keys(t).length?i(!1):i(!0)),t},onSubmit:function(e){o(U(e)),i(!0),l.resetForm()}});return Object(p.jsxs)("div",{className:_.a.loginWrapper,children:[Object(p.jsx)("h1",{className:_.a.loginTitle,children:"Sign in"}),r?Object(p.jsx)("div",{className:_.a.error,children:r}):null,Object(p.jsxs)("form",{className:_.a.loginBox,onSubmit:l.handleSubmit,children:[Object(p.jsxs)("div",{className:_.a.loginInner,children:[Object(p.jsx)(x,Object(b.a)({theme:t,placeholder:"e-mail",type:"email"},l.getFieldProps("email"))),l.touched.email&&l.errors.email?Object(p.jsx)("div",{className:_.a.error,children:l.errors.email}):null]}),Object(p.jsxs)("div",{className:_.a.loginInner,children:[Object(p.jsx)(x,Object(b.a)({theme:t,placeholder:"password",type:"password"},l.getFieldProps("password"))),l.touched.password&&l.errors.password?Object(p.jsx)("div",{className:_.a.error,children:l.errors.password}):null]}),Object(p.jsxs)("div",{className:_.a.loginCheckboxInner,children:[Object(p.jsx)("label",{htmlFor:"rememberMe",className:_.a.loginLabel,children:"Remember me"}),Object(p.jsx)(k,Object(b.a)({theme:t,id:"rememberMe",type:"rememberMe"},l.getFieldProps("rememberMe")))]}),Object(p.jsx)(v,{theme:t,disabled:s,children:"Sign in"})]}),Object(p.jsx)(j.b,{className:"".concat(_.a.link," ").concat("dark"===t?_.a.dark:_.a.light),to:me.RECOVERY_PASSWORD,children:"Forgot your password?"}),Object(p.jsx)(j.b,{className:"".concat(_.a.link," ").concat("dark"===t?_.a.dark:_.a.light),to:me.REGISTRATION,children:"Go to sign up"})]})},W=(r(84),function(){return Object(p.jsxs)("div",{className:"lds-ellipsis",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]})}),V=function(e){var t=e.theme,r=Object(B.c)((function(e){return e.login.isLoggedIn})),a=Object(B.c)((function(e){return e.app.status})),n=Object(B.c)((function(e){return e.login.loginError}));return r?Object(p.jsx)(u.a,{to:me.PROFILE}):"loading"===a?Object(p.jsx)(W,{}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(D,{theme:t,status:a,loginError:n})})},q=r(54),K=r.n(q),M=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Profile"}),Object(p.jsx)("div",{className:K.a.wrap})]})},Y=function(){return Object(B.c)((function(e){return e.login.isLoggedIn}))?Object(p.jsx)("div",{children:Object(p.jsx)(M,{})}):Object(p.jsx)(u.a,{to:me.LOGIN})},H=function(){return Object(p.jsx)("div",{})},Z=r(9),J=r.n(Z),z=y.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Q=function(e){return z.post("auth/register",e)};(F=G||(G={})).SIGN_UP="SIGN_UP",F.SIGN_UP_ERROR="SIGN_UP_ERROR";var X={isRegistration:!1,registrationError:null};console.log(X.registrationError,"initialState.registrationError");var $,ee=function(e){return function(t){t(P("loading")),Q(e).then((function(e){var r;t((r=!0,{type:G.SIGN_UP,isRegistration:r})),console.log(e)})).catch((function(e){var r=e.response?e.response.data.error:e.message+", more details in the console";console.log(r),t(function(e){return{type:G.SIGN_UP_ERROR,error:e}}(r))})).finally((function(){t(P("succeeded"))}))}},te=function(e){var t=e.theme,r=(e.status,e.registrationError),a=Object(B.b)(),c=Object(n.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(E.a)({initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email||(t.email="Email is required"),e.password||(t.password="Password is required"),e.confirmPassword||(t.confirmPassword="Password is required"),e.password!==e.confirmPassword&&(t.confirmPassword="Passwords are not equal"),(l.errors.email||l.errors.password||l.errors.confirmPassword)&&(0===Object.keys(t).length?o(!1):o(!0)),t},onSubmit:function(e){a(ee(e)),o(!0),l.resetForm()}});return Object(p.jsxs)("div",{className:J.a.regWrapper,children:[Object(p.jsx)("h1",{className:J.a.regTitle,children:"Sign up"}),Object(p.jsx)("p",{className:J.a.regSubTitle,children:"Please fill in the form below"}),r?Object(p.jsx)("div",{className:J.a.regError,children:r}):null,Object(p.jsxs)("form",{className:J.a.regBox,onSubmit:l.handleSubmit,children:[Object(p.jsxs)("div",{className:J.a.regInner,children:[Object(p.jsx)(x,Object(b.a)({theme:t,placeholder:"e-mail",type:"email"},l.getFieldProps("email"))),l.touched.email&&l.errors.email?Object(p.jsx)("div",{className:J.a.error,children:l.errors.email}):null]}),Object(p.jsxs)("div",{className:J.a.regInner,children:[Object(p.jsx)(x,Object(b.a)({theme:t,placeholder:"password",type:"password"},l.getFieldProps("password"))),l.touched.password&&l.errors.password?Object(p.jsx)("div",{className:J.a.error,children:l.errors.password}):null]}),Object(p.jsxs)("div",{className:J.a.regInner,children:[Object(p.jsx)(x,Object(b.a)({theme:t,placeholder:"confirm password",type:"password"},l.getFieldProps("confirmPassword"))),l.touched.confirmPassword&&l.errors.confirmPassword?Object(p.jsx)("div",{className:J.a.error,children:l.errors.confirmPassword}):null]}),Object(p.jsx)(v,{theme:t,disabled:i,children:"Sign up"})]}),Object(p.jsx)(j.b,{className:"".concat(J.a.link," ").concat("dark"===t?J.a.dark:J.a.light),to:me.LOGIN,children:"Go to sign in"})]})},re=function(e){var t=e.theme,r=Object(B.c)((function(e){return e.app.status})),a=Object(B.c)((function(e){return e.registration.registrationError}));return Object(B.c)((function(e){return e.registration.isRegistration}))?Object(p.jsx)(u.a,{to:me.LOGIN}):"loading"===r?Object(p.jsx)(W,{}):(console.log(a),Object(p.jsx)(te,{registrationError:a,status:r,theme:t}))},ae=function(){return Object(p.jsx)("div",{children:"Error404"})},ne=function(e){e.theme;return Object(p.jsx)("div",{})},ce=r(31),se=r.n(ce),ie=y.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),oe=function(e){return ie.post("auth/forgot",{email:e,from:"mariya.syrokvash@yandex.ru",message:"<div style=\"background-color: #FFC300; padding: 30px; border-radius: 20px\">\n\t\t\t\t\t\t\t\t\t\t<p>Please, click on the link and enter a new password</p>\n\t\t\t\t\t\t\t\t\t\t<a href='https://mariasyrokvash.github.io/fridayTask/#/new_pass/$token$'>Go to recovery password</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t"})};!function(e){e.SET_ERROR="SET_ERROR",e.SET_SUCCESS="SET_SUCCESS",e.SET_STATUS="SET_STATUS"}($||($={}));var le={status:"idle",recoveryError:"",recoverySuccess:""},de=function(e){return{type:$.SET_STATUS,status:e}},je=function(e){return function(t){t(de("loading")),oe(e).then((function(e){var r;console.log(e),200===e.status&&t((r=e.data.info,{type:$.SET_SUCCESS,recoverySuccess:r}))})).catch((function(e){var r=e.response?e.response.data.error:e.message+", more details in the console";t(function(e){return{type:$.SET_ERROR,error:e}}(r))})).finally((function(){t(de("succeeded"))}))}},ue=function(e){var t=e.theme,r=e.recoveryError,a=Object(B.b)(),n=Object(E.a)({initialValues:{email:""},validate:function(e){var t={};return e.email||(t.email="Email is required"),t},onSubmit:function(e){a(je(e.email)),n.resetForm()}});return Object(p.jsxs)("div",{className:se.a.box,children:[Object(p.jsx)("h1",{className:se.a.recTitle,children:"Recover Password"}),Object(p.jsx)("p",{className:se.a.recSubTitle,children:"Please, enter your email"}),r?Object(p.jsx)("div",{className:se.a.recError,children:r}):null,Object(p.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(p.jsx)(x,Object(b.a)({theme:t,placeholder:"e-mail",type:"email"},n.getFieldProps("email"))),n.touched.email&&n.errors.email?Object(p.jsx)("div",{className:J.a.error,children:n.errors.email}):null,Object(p.jsx)(v,{children:"Send"})]})]})},be=function(e){var t=e.theme,r=Object(B.c)((function(e){return e.recoveryPass.recoveryError}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(ue,{theme:t,recoveryError:r})})},he=function(){return Object(B.c)((function(e){return e.login.isLoggedIn}))?Object(p.jsx)("div",{children:"PacksContainer"}):Object(p.jsx)(u.a,{to:me.LOGIN})},_e=function(){return Object(p.jsx)(p.Fragment,{children:"cards"})},me={LOGIN:"/login",REGISTRATION:"/registration",PROFILE:"/profile",ERROR_404:"/404",RECOVERY_PASSWORD:"/recovery_pass",NEW_PASSWORD:"/new_pass",TEST:"/test",PACKS:"/packs",CARDS:"/cards"},Oe=function(e){var t=e.theme;return Object(p.jsx)("div",{children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{path:"/",exact:!0,render:function(){return Object(p.jsx)(u.a,{to:me.LOGIN})}}),Object(p.jsx)(u.b,{path:me.LOGIN,render:function(){return Object(p.jsx)(V,{theme:t})}}),Object(p.jsx)(u.b,{path:me.REGISTRATION,render:function(){return Object(p.jsx)(re,{theme:t})}}),Object(p.jsx)(u.b,{path:me.PROFILE,render:function(){return Object(p.jsx)(Y,{})}}),Object(p.jsx)(u.b,{path:me.ERROR_404,render:function(){return Object(p.jsx)(ae,{})}}),Object(p.jsx)(u.b,{path:me.RECOVERY_PASSWORD,render:function(){return Object(p.jsx)(be,{theme:t})}}),Object(p.jsx)(u.b,{path:me.NEW_PASSWORD,render:function(){return Object(p.jsx)(ne,{theme:t})}}),Object(p.jsx)(u.b,{path:me.TEST,render:function(){return Object(p.jsx)(H,{})}}),Object(p.jsx)(u.b,{path:me.PACKS,render:function(){return Object(p.jsx)(he,{})}}),Object(p.jsx)(u.b,{path:me.CARDS+"/:id",render:function(){return Object(p.jsx)(_e,{})}}),Object(p.jsx)(u.b,{render:function(){return Object(p.jsx)(ae,{})}})]})})},ge=r(3),pe=r.n(ge),xe=function(e){var t=e.theme;return Object(p.jsx)("nav",{className:pe.a.navBox,children:Object(p.jsxs)("ul",{className:pe.a.navList,children:[Object(p.jsx)("li",{className:pe.a.navItem,children:Object(p.jsx)(j.b,{activeClassName:pe.a.selected,className:"".concat(pe.a.link," ").concat("dark"===t?pe.a.dark:pe.a.light),to:me.REGISTRATION,children:"Registration"})}),Object(p.jsx)("li",{className:pe.a.navItem,children:Object(p.jsx)(j.b,{className:"".concat(pe.a.link," ").concat("dark"===t?pe.a.dark:pe.a.light),activeClassName:pe.a.selected,to:me.LOGIN,children:"Login"})}),Object(p.jsx)("li",{className:pe.a.navItem,children:Object(p.jsx)(j.b,{className:"".concat(pe.a.link," ").concat("dark"===t?pe.a.dark:pe.a.light),activeClassName:pe.a.selected,to:me.PROFILE,children:"Profile"})}),Object(p.jsx)("li",{className:pe.a.navItem,children:Object(p.jsx)(j.b,{className:"".concat(pe.a.link," ").concat("dark"===t?pe.a.dark:pe.a.light),activeClassName:pe.a.selected,to:me.RECOVERY_PASSWORD,children:"Recovery Password"})}),Object(p.jsx)("li",{className:pe.a.navItem,children:Object(p.jsx)(j.b,{className:"".concat(pe.a.link," ").concat("dark"===t?pe.a.dark:pe.a.light),activeClassName:pe.a.selected,to:me.NEW_PASSWORD,children:"New Password"})}),Object(p.jsx)("li",{className:pe.a.navItem,children:Object(p.jsx)(j.b,{className:"".concat(pe.a.link," ").concat("dark"===t?pe.a.dark:pe.a.light),activeClassName:pe.a.selected,to:me.PACKS,children:"Packs"})})]})})},Se=r(20),fe=r.n(Se),ve=function(e){var t=e.theme,r=e.toggleTheme;return Object(p.jsx)("div",{className:fe.a.btnBox,children:Object(p.jsx)(v,{onClick:r,className:"".concat(fe.a.switcherBtn," ").concat("dark"===t?fe.a.dark:fe.a.light),children:"dark"===t?Object(p.jsx)("span",{className:fe.a.emoji,children:"\ud83c\udf1a"}):Object(p.jsx)("span",{className:fe.a.emoji,children:"\ud83c\udf1d"})})})};var Ee=function(){var e=function(){var e=Object(n.useState)("light"),t=Object(d.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("theme");e&&a(e)}),[]),{theme:r,toggleTheme:function(){"dark"!==r?(localStorage.setItem("theme","dark"),a("dark")):(localStorage.setItem("theme","light"),a("light"))}}}(),t=e.theme,r=e.toggleTheme;return Object(p.jsx)("div",{className:"".concat(l.a.app," ").concat("dark"===t?l.a.dark:l.a.light),children:Object(p.jsxs)("div",{className:l.a.container,children:[Object(p.jsx)(ve,{theme:t,toggleTheme:r}),Object(p.jsx)(xe,{theme:t}),Object(p.jsx)(Oe,{theme:t})]})})},Ne=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,86)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},Re=r(26),ke=r(55),Ie=Object(Re.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_STATUS:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case a.SET_INITIALIZED:return Object(b.a)(Object(b.a)({},e),{},{initialized:t.initialized});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SIGN_UP:return Object(b.a)(Object(b.a)({},e),{},{isRegistration:t.isRegistration});case G.SIGN_UP_ERROR:return Object(b.a)(Object(b.a)({},e),{},{registrationError:t.error});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.SET_IS_LOGGED_IN:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.value});case I.SET_USER_PROFILE:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case I.SIGN_IN_ERROR:return Object(b.a)(Object(b.a)({},e),{},{loginError:t.error});default:return e}},recoveryPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.SET_STATUS:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case $.SET_ERROR:return Object(b.a)(Object(b.a)({},e),{},{recoveryError:t.error});case $.SET_SUCCESS:return Object(b.a)(Object(b.a)({},e),{},{recoverySuccess:t.recoverySuccess});default:return e}}}),Te=Object(Re.d)(Ie,Object(Re.a)(ke.a));window.store=Te,i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(j.a,{children:Object(p.jsx)(B.a,{store:Te,children:Object(p.jsx)(Ee,{})})})}),document.getElementById("root")),Ne()},9:function(e,t,r){e.exports={regWrapper:"Registration_regWrapper__2G4xI",regBox:"Registration_regBox__21zCG",regInner:"Registration_regInner__w5sP4",regTitle:"Registration_regTitle__2x3rK",regSubTitle:"Registration_regSubTitle__1Vv3_",regError:"Registration_regError__2X103",error:"Registration_error__34sZp",link:"Registration_link__3RPkv",dark:"Registration_dark__2gdmy",light:"Registration_light__2_S1T"}}},[[85,1,2]]]);
//# sourceMappingURL=main.9862b0e7.chunk.js.map